{"name":"svelte.adoc","path":"src\/posts\/svelte.adoc","sha":"213e7e73328c29317d91e3591a92aa85e32099a3","size":6026,"url":"https:\/\/api.github.com\/repos\/jeffjose\/personal-website\/contents\/src\/posts\/svelte.adoc?ref=master","html_url":"https:\/\/github.com\/jeffjose\/personal-website\/blob\/master\/src\/posts\/svelte.adoc","git_url":"https:\/\/api.github.com\/repos\/jeffjose\/personal-website\/git\/blobs\/213e7e73328c29317d91e3591a92aa85e32099a3","download_url":"https:\/\/raw.githubusercontent.com\/jeffjose\/personal-website\/master\/src\/posts\/svelte.adoc","type":"file","encoding":"base64","_links":{"self":"https:\/\/api.github.com\/repos\/jeffjose\/personal-website\/contents\/src\/posts\/svelte.adoc?ref=master","git":"https:\/\/api.github.com\/repos\/jeffjose\/personal-website\/git\/blobs\/213e7e73328c29317d91e3591a92aa85e32099a3","html":"https:\/\/github.com\/jeffjose\/personal-website\/blob\/master\/src\/posts\/svelte.adoc"},"contents":"= Svelte 3: Rethinking reactivity\n\n[.subtitle]\nIt's finally here\n\n[.date]\nApr 22, 2019\n\nAfter several months of being just days away, we are over the moon to announce the stable release of Svelte 3. This is a huge release representing hundreds of hours of work by many people in the Svelte community, including invaluable feedback from beta testers who have helped shape the design every step of the way.\n\nWe think you're going to love it.\n\n=== What is Svelte?\n\nSvelte is a component framework \u2014 like React or Vue \u2014 but with an important difference. Traditional frameworks allow you to write declarative state-driven code, but there's a penalty: the browser must do extra work to convert those declarative structures into DOM operations, using techniques like https:\/\/svelte.dev\/blog\/virtual-dom-is-pure-overhead[virtual DOM diffing] that eat into your frame budget and tax the garbage collector.\n\nInstead, Svelte runs at build time, converting your components into highly efficient imperative code that surgically updates the DOM. As a result, you're able to write ambitious applications with excellent performance characteristics.\n\nThe first version of Svelte was all about https:\/\/svelte.dev\/blog\/frameworks-without-the-framework[testing a hypothesis] \u2014 that a purpose-built compiler could generate rock-solid code that delivered a great user experience. The second was a small upgrade that tidied things up a bit.\n\nVersion 3 is a significant overhaul. Our focus for the last five or six months has been on delivering an outstanding developer experience. It's now possible to write components with https:\/\/svelte.dev\/blog\/write-less-code[significantly less boilerplate] than you'll find elsewhere. Try the brand new https:\/\/svelte.dev\/tutorial[tutorial] and see what we mean \u2014 if you're familiar with other frameworks we think you'll be pleasantly surprised.\n\nTo make that possible we first needed to rethink the concept at the heart of modern UI frameworks: reactivity.\n\n[.big]\nvideo::AdNJ3fydeao[youtube]\n\n=== Moving reactivity into the language\n\nIn old Svelte, you would tell the computer that some state had changed by calling the `this.set` method:\n\n[source, javascript]\n----\nconst { count } = this.get();\nthis.set({\n  count: count + 1\n});\n----\n\n\nThat would cause the component to react. Speaking of which, this.set is almost identical to the `this.setState` method used in classical (pre-hooks) React:\n\n\n[source, javascript]\n----\nconst { count } = this.state;\nthis.setState({\n  count: count + 1\n});\n----\n\nThere are some important technical differences (as I explain in the video above, React is not reactive) but conceptually it's the same thing.\n\nIn fact, Svelte 3 is basically .\n\nThat all changed with the advent of , which handle state in a very different fashion. Many frameworks started experimenting with their own implementations of hooks, but we quickly concluded it wasn't a direction we wanted to go in. Hooks have some intriguing properties, but they also involve some unnatural code and create unnecessary work for the garbage collector. For a framework that's used in  as well as animation-heavy interactives, that's no good.\n\nSo we took a step back and asked ourselves what kind of API would work for us... and realised that the best API is no API at all. We can just use the language. Updating some count value \u2014 and all the things that depend on it \u2014 should be as simple as this:\n\n[source, javascript]\n----\ncount += 1;\n----\n\nSince we're a compiler, we can do that by instrumenting assignments behind the scenes:\n\n[source, javascript]\n----\ncount += 1; $$invalidate('count', count);\n----\n\nImportantly, we can do all this without the overhead and complexity of using proxies or accessors. It's just a variable.\n\n=== New look\nYour components aren't the only thing that's getting a facelift. Svelte itself has a completely new look and feel, thanks to the amazing design work of  who created our new logo and website, which has moved from  to .\n\nWe've also changed our tagline, from 'The magical disappearing UI framework' to 'Cybernetically enhanced web apps'. Svelte has many aspects \u2014 outstanding performance, small bundles, accessibility, built-in style encapsulation, declarative transitions, ease of use, the fact that it's a compiler, etc \u2014 that focusing on any one of them feels like an injustice to the others. 'Cybernetically enhanced' is designed to instead evoke Svelte's overarching philosophy that our tools should work as intelligent extensions of ourselves \u2014 hopefully with a retro, William Gibson-esque twist.\n\n=== Upgrading from version 2\nIf you're an existing Svelte 2 user, I'm afraid there is going to be some manual upgrading involved. In the coming days we'll release a migration guide and an updated version of  which will do the best it can to automate the process, but this is a significant change and not everything can be handled automatically.\n\nWe don't take this lightly: hopefully once you've experienced Svelte 3 you'll understand why we felt it was necessary to break with the past.\n\n=== Still to come\n\nAs grueling as this release has been, we're nowhere near finished. We have a ton of ideas for generating smarter, more compact code, and a long feature wish-list. https:\/\/sapper.svelte.technology\/[Sapper], our Next.js-style app framework, is still in the middle of being updated to use Svelte 3. The https:\/\/svelte-native.technology\/[Svelte Native] community project, which allows you to write Android and iOS apps in Svelte, is making solid progress but deserves more complete support from core. We don't yet have the bounty of editor extensions, syntax highlighters, component kits, devtools and so on that other frameworks have, and we should fix that. We really want to add first-class TypeScript support.\n\nBut in the meantime we think Svelte 3 is the best way to build web apps yet. Take an hour to go through the  and we hope to convince you of the same. Either way, we'd love to see you in our  and on  \u2014 everyone is welcome, especially you.\n\n","hash":2522781543779672773}